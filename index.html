<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‚ò≠ ‡¶¨‡¶æ‡¶Æ Meter</title>
  <style>
    :root { --maxw: 900px; --brand:#ef4444; --brand-dark:#7f1d1d; --ink:#111; --muted:#6b7280; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans Bengali, Noto Sans, Arial, sans-serif; line-height: 1.5; margin: 0; background: #fff5f5; color: var(--ink); }
    header { background: linear-gradient(90deg,#7f1d1d,#ef4444); color: #fff; padding: 1.1rem 1.25rem; }
    header h1 { margin: 0; font-size: 1.2rem; }

    main { max-width: var(--maxw); margin: 1rem auto 2rem; background: #fff; padding: 1rem; border-radius: 14px; box-shadow: 0 6px 20px rgba(0,0,0,.06); }

    .controls { display: flex; flex-wrap: wrap; gap: .6rem; align-items:center; }
    button { border: 0; padding: .65rem 1rem; border-radius: 999px; cursor: pointer; background: var(--brand); color: #fff; box-shadow: 0 6px 14px rgba(127,29,29,.25); transition: transform .06s ease, box-shadow .2s ease; }
    button:hover{ transform: translateY(-1px); box-shadow: 0 10px 20px rgba(127,29,29,.25);} 
    button.secondary { background: #fee2e2; color: var(--brand-dark); }
    button.ghost { background: transparent; color: var(--brand-dark); border: 1px solid #fecaca; }
    button[disabled]{ opacity:.5; cursor: not-allowed; }

    fieldset { border: 1px solid #ffe4e6; border-radius: 12px; padding: .9rem; }
    legend { padding: 0 .25rem; font-weight: 700; color:#7f1d1d; }

    .qcard { padding: .75rem; border-radius: 12px; background: #fff1f2; border: 1px solid #ffe4e6; }
    .qindex { font-weight:700; color:#7f1d1d; }
    .qtext { margin: .25rem 0 .75rem; font-weight: 700; }

    .opts { display: grid; grid-template-columns: 1fr; gap: .5rem; }
    .opt { display: flex; align-items: center; gap: .6rem; padding: .55rem .7rem; border: 1px solid #fecaca; border-radius: 10px; background:#fff; }
    .opt input { transform: scale(1.15); }

    .navrow { display:flex; gap:.6rem; justify-content: space-between; margin-top: .8rem; }
    .progress { height: 8px; background:#ffe4e6; border-radius:999px; overflow:hidden; }
    .bar { height:100%; width:0%; background: linear-gradient(90deg,#fb7185,#ef4444); transition: width .25s ease; }

    .result { display:none; }
    .result.show { display:block; }
    .scorebox { background: #fff1f2; border: 1px solid #fecaca; padding: .9rem; border-radius: 12px; }
    .assessment { font-size: 1.1rem; font-weight: 800; color:#7f1d1d; }
    .badge { display: inline-block; padding: .2rem .6rem; border-radius: 999px; font-size: .8rem; border: 1px solid #fecaca; background:#fff; }
    .muted { color: var(--muted); }

    .share { display:flex; gap:.6rem; flex-wrap:wrap; margin-top:.6rem; }

    /* Hide all numeric details except the big percent */
    .scoreline { display:none !important; }

    /* Big red % at top, centered */
    .percentBig {
      font-size: clamp(2.2rem, 7vw, 4.2rem);
      font-weight: 900;
      text-align: center;
      color: var(--brand);
      line-height: 1.05;
      margin: .2rem 0 .6rem;
    }

    /* Print view: render only the result card nicely for PDF */
    @media print {
      header, .legend, .quiz, .share, .navrow, .progress { display:none !important; }
      main { box-shadow:none; }
      .result { display:block !important; }
    }
  </style>
</head>
<body>
  <header>
    <h1>‚ò≠ ‡¶¨‡¶æ‡¶Æ Meter</h1>
  </header>
  <main>
    <section class="quiz" aria-live="polite">
      <div class="progress" aria-hidden="true"><div id="bar" class="bar"></div></div>
      <div class="qcard" id="qcard">
        <div class="qindex" id="qindex">‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® 1 / 20</div>
        <div class="qtext" id="qtext">‚Ä¶</div>
        <div class="opts" id="opts"></div>
        <div class="navrow">
          <button id="prev" class="ghost">‡¶™‡ßá‡¶õ‡¶®‡ßá</button>
          <div class="controls">
            <button id="reset" class="secondary">‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</button>
            <button id="next">‡¶™‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®</button>
          </div>
        </div>
      </div>
    </section>

    <section id="result" class="result" role="region" aria-label="‡¶´‡¶≤‡¶æ‡¶´‡¶≤">
      <div class="scorebox">
        <!-- Hidden numeric score line (kept for dev) -->
        <div class="scoreline" aria-hidden="true">
          <span class="badge">‡¶Æ‡ßã‡¶ü ‡¶∏‡ßç‡¶ï‡ßã‡¶∞</span>
          <span id="score">0</span> / <span id="max">0</span> (<span id="percent">0</span>%)
        </div>

        <!-- BIG % -->
        <div id="percentBig" class="percentBig">0%</div>

        <!-- Assessment & comment -->
        <div class="assessment">‡¶∏‡¶æ‡¶∞‡ßç‡¶¨‡¶ø‡¶ï ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®: <span id="assessment" class="muted">‚Äî</span></div>
        <div id="comment" class="muted"></div>
      </div>

      <div class="share">
        <button id="btnPrint" class="secondary">üßæ PDF ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°</button>
        <button id="btnShare" class="ghost">üîó ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞</button>
        <button id="btnCopy" class="ghost">üìã ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø</button>
        <button id="btnRestart">‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ</button>
      </div>
    </section>
  </main>

  <script>
  // Likert options
  const LIKERT_OPTIONS = [
    { label: "‡¶™‡ßÅ‡¶∞‡ßã‡¶™‡ßÅ‡¶∞‡¶ø ‡¶è‡¶ï‡¶Æ‡¶§ (‡ß™)", value: 4 },
    { label: "‡¶è‡¶ï‡¶Æ‡¶§ (‡ß©)", value: 3 },
    { label: "‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶®‡ßá‡¶á (‡ß®)", value: 2 },
    { label: "‡¶è‡¶ï‡¶Æ‡¶§ ‡¶®‡¶á (‡ßß)", value: 1 },
    { label: "‡¶è‡¶ï‡¶¶‡¶Æ‡¶á ‡¶è‡¶ï‡¶Æ‡¶§ ‡¶®‡¶á (‡ß¶)", value: 0 }
  ];

  // Questions
  const QUESTIONS = [
    "‡¶Æ‡¶®‡ßá ‡¶π‡ßü ‡¶®‡¶æ, ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶ü‡¶æ‡¶ï‡¶æ‚Äì‡¶™‡ßü‡¶∏‡¶æ ‡¶∏‡¶¨ ‡¶ò‡ßÅ‡¶∞‡ßá‡¶´‡¶ø‡¶∞‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶∞ ‡¶¶‡¶≤‡¶¨‡¶æ‡¶ú‡¶¶‡ßá‡¶∞ ‡¶π‡¶æ‡¶§‡ßá‡¶á ‡¶ú‡¶Æ‡ßá ‡¶Ü‡¶õ‡ßá?",
    "‡¶≠‡ßã‡¶ü ‡¶Æ‡¶æ‡¶®‡ßá‡¶á ‡¶è‡¶ñ‡¶® ‡¶Æ‡¶æ‡¶∏‡ßç‡¶§‡¶æ‡¶®, ‡¶ï‡ßç‡¶Ø‡¶æ‡¶°‡¶æ‡¶∞ ‡¶Ü‡¶∞ ‡¶∏‡¶ø‡¶®‡ßç‡¶°‡¶ø‡¶ï‡ßá‡¶ü‡ßá‡¶∞ ‡¶ñ‡ßá‡¶≤‡¶æ‡•§",
    "‡¶ó‡¶æ‡¶∞‡ßç‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï‡¶∞‡¶æ ‡¶Æ‡ßÅ‡¶®‡¶æ‡¶´‡¶æ‡ßü ‡¶Æ‡¶ú‡ßá, ‡¶Ü‡¶∞ ‡¶∂‡ßç‡¶∞‡¶Æ‡¶ø‡¶ï‡¶∞‡¶æ ‡¶ò‡¶æ‡¶Æ ‡¶ù‡¶∞‡¶ø‡ßü‡ßá‡¶ì ‡¶ü‡¶ø‡¶ï‡ßá ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶≤‡ßú‡ßá ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá ‚Äî ‡¶è‡¶ü‡¶æ‡¶á ‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡¶¨?",
    "‡¶∞‡¶ø‡¶ï‡¶∂‡¶æ‡¶ì‡ßü‡¶æ‡¶≤‡¶æ, ‡¶π‡¶ï‡¶æ‡¶∞, ‡¶ó‡ßÉ‡¶π‡¶ï‡¶∞‡ßç‡¶Æ‡ßÄ ‚Äî ‡¶ï‡ßá‡¶â‡¶á ‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∞ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶™‡¶æ‡ßü ‡¶®‡¶æ, ‡¶Ö‡¶•‡¶ö ‡¶ì‡¶∞‡¶æ‡¶á ‡¶∂‡¶π‡¶∞‡¶ü‡¶æ ‡¶ö‡¶æ‡¶≤‡¶ø‡ßü‡ßá ‡¶∞‡¶æ‡¶ñ‡ßá‡ß∑",
    "‡¶ï‡¶∞‡ßç‡¶™‡ßã‡¶∞‡ßá‡¶ü ‡¶π‡¶æ‡¶â‡¶ú‡ßá‡¶∞ ‡¶Ø‡¶ñ‡¶® ‡¶§‡¶ñ‡¶® ‡¶õ‡¶æ‡¶ü‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ, ‡¶¨‡ßá‡¶§‡¶® ‡¶¶‡¶ø‡¶§‡ßá ‡¶ó‡ßú‡¶ø‡¶Æ‡¶∏‡¶ø ‡¶ï‡¶∞‡¶æ, ‡¶á‡¶â‡¶®‡¶ø‡ßü‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶®‡¶æ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ- ‡¶è‡¶Æ‡ßç‡¶™‡¶≤‡ßü‡¶ø‡¶¶‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡ßü‡•§",
    "‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß ‡¶π‡ßü‡ßá‡¶õ‡¶ø‡¶≤ ‡¶∂‡ßã‡¶∑‡¶£‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‚Äî ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶Ü‡¶ú‡¶ì ‡¶ß‡¶®‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶§‡ßç‡¶¨ ‡¶ö‡¶≤‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡¶á ‡¶è ‡¶¨‡¶ø‡¶∑‡ßü‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡•§",
    "‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶Ü‡¶∞ ‡¶Ü‡¶á‡¶è‡¶Æ‡¶è‡¶´ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¶‡ßá‡¶∂‡ßá ‡¶ã‡¶£ ‡¶¶‡ßá‡ßü, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∂‡¶∞‡ßç‡¶§‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶π‡¶æ‡¶¨‡ßÅ‡¶°‡ßÅ‡¶¨‡ßÅ ‡¶ñ‡¶æ‡¶á ‚Äî ‡¶è‡¶Æ‡¶®‡¶ü‡¶æ‡¶á ‡¶Æ‡¶®‡ßá ‡¶π‡ßü?",
    "‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤‡ßá ‡¶≠‡¶æ‡¶≤‡ßã ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶®‡ßá‡¶á, ‡¶¨‡¶á‡ßü‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶® ‡¶ñ‡¶æ‡¶∞‡¶æ‡¶™ ‚Äî ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶¨‡¶ø‡¶¶‡ßá‡¶∂‡¶ø ‡¶¶‡¶æ‡¶§‡¶æ‡¶∞‡¶æ (‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï, ‡¶Ü‡¶á‡¶è‡¶Æ‡¶è‡¶´) ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡¶ï‡ßá ‡¶ñ‡¶∞‡¶ö ‡¶ï‡¶Æ‡¶æ‡¶§‡ßá ‡¶¨‡¶≤‡ßá‡•§",
    "‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤ ‡¶è‡¶ñ‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ; ‡¶ó‡¶∞‡¶ø‡¶¨ ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶¶‡¶æ‡¶Å‡ßú‡¶ø‡ßü‡ßá‡¶á ‡¶ï‡¶∑‡ßç‡¶ü ‡¶™‡¶æ‡ßü‡•§",
    "‡¶´‡¶ø‡¶≤‡¶ø‡¶∏‡ßç‡¶§‡¶ø‡¶® ‡¶®‡¶ø‡ßü‡ßá ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶¶‡¶≤‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Ø‡¶§ ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡ßá, ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶§‡¶§‡¶ü‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶®‡¶æ‡•§",
    "‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶è‡¶ñ‡¶®‡ßã ‡¶õ‡ßã‡¶ü ‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶π‡ßÄ‡¶® ‡¶ï‡ßÉ‡¶∑‡¶ï‡¶∞‡¶æ ‡¶¨‡ßú ‡¶ú‡¶Æ‡¶ø‡¶∞ ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï ‡¶Ü‡¶∞ ‡¶Æ‡¶π‡¶æ‡¶ú‡¶®‡¶¶‡ßá‡¶∞ ‡¶π‡¶æ‡¶§‡ßá ‡¶¨‡¶ø‡¶™‡¶¶‡ßá ‡¶™‡ßú‡ßá‡•§",
    "‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶®‡¶¶‡ßÄ ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡¶æ‡¶£‡¶ø‡¶ú‡ßç‡¶Ø ‚Äî ‡¶Ö‡¶®‡ßá‡¶ï ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§‡¶á ‡¶®‡¶ø‡¶§‡ßá ‡¶π‡ßü ‡¶™‡¶æ‡¶∂‡ßá‡¶∞ ‡¶¨‡ßú ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶ö‡¶æ‡¶™‡ßá‡•§",
    "‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶æ‡¶§‡ßç‡¶§‡¶∞‡ßá ‡¶Ö‡¶™‡¶∞‡¶æ‡¶ß ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø‡¶≤, ‡¶Ü‡¶ú ‡¶§‡¶æ‡¶∞‡¶æ ‡¶∏‡¶Æ‡ßç‡¶Æ‡¶æ‡¶®‡¶ø‡¶§ ‡¶π‡ßü‡ßá ‡¶ò‡ßÅ‡¶∞‡ßá ‡¶¨‡ßá‡ßú‡¶æ‡ßü ‚Äî ‡¶è‡¶ü‡¶æ ‡¶≠‡ßÄ‡¶∑‡¶£ ‡¶ï‡¶∑‡ßç‡¶ü‡¶¶‡¶æ‡ßü‡¶ï‡•§",
    "‡¶¨‡ßá‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡¶ø‡¶ï‡¶∞‡¶£‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßá ‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞‡ßÄ‡ßü ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶ (‡¶Ø‡ßá‡¶Æ‡¶®- ‡¶¨‡¶®‡ßç‡¶¶‡¶∞, ‡¶ñ‡¶®‡¶ø‡¶ú ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶) ‡¶¨‡¶ø‡¶¶‡ßá‡¶∂‡¶ø ‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡¶ø‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶¨‡ßá‡¶ö‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶Æ‡¶æ‡¶®‡ßá, ‡¶Ü‡¶∏‡¶≤‡ßá ‡¶¶‡ßá‡¶∂‡¶ü‡¶æ‡¶á ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§",
    "‡¶®‡¶æ‡¶∞‡ßÄ ‡¶Ü‡¶∞ ‡¶Ü‡¶¶‡¶ø‡¶¨‡¶æ‡¶∏‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶¨‡ßà‡¶∑‡¶Æ‡ßç‡¶Ø ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø‡¶∞ ‡¶®‡ßü, ‡¶è‡¶ü‡¶ø ‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶∂‡ßã‡¶∑‡¶£‡ßá‡¶∞‡¶ì ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶Ç‡¶∂‡•§",
    "‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶ß‡¶∞‡ßç‡¶Æ ‡¶•‡¶æ‡¶ï‡¶æ ‡¶â‡¶ö‡¶ø‡¶§ ‡¶®‡¶æ ‚Äî ‡¶∏‡¶¨‡¶æ‡¶á‡¶ï‡ßá ‡¶∏‡¶Æ‡¶æ‡¶®‡¶≠‡¶æ‡¶¨‡ßá ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§",
    "‡¶¢‡¶æ‡¶ï‡¶æ‡ßü ‡¶®‡¶§‡ßÅ‡¶® ‡¶®‡¶§‡ßÅ‡¶® ‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ‡¶ò‡¶æ‡¶ü ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶π‡ßü, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑ ‡¶π‡¶æ‡¶Å‡¶ü‡¶æ‡¶∞ ‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ‡¶á ‡¶™‡¶æ‡ßü ‡¶®‡¶æ ‚Äî ‡¶è‡¶á ‡¶¨‡ßà‡¶∑‡¶Æ‡ßç‡¶Ø‡¶ü‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡ßü ‡¶®‡¶æ?",
    "‡¶®‡¶æ‡¶∞‡ßÄ, ‡¶Ü‡¶¶‡¶ø‡¶¨‡¶æ‡¶∏‡ßÄ, ‡¶¨‡¶æ ‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶≤‡¶ø‡¶ô‡ßç‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑‡ßá‡¶∞ ‡¶Ö‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶®‡¶ø‡ßü‡ßá ‡¶ï‡¶•‡¶æ ‡¶¨‡¶≤‡¶æ ‡¶¨‡¶ø‡¶≤‡¶æ‡¶∏‡¶ø‡¶§‡¶æ ‡¶®‡ßü ‚Äî ‡¶è‡¶ü‡¶æ ‡¶®‡ßç‡¶Ø‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶¶‡¶æ‡¶¨‡¶ø‡•§",
    "‡¶∏‡¶¨ ‡¶¨‡ßú ‡¶¶‡¶≤‡¶á ‡¶ß‡¶®‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡¶ñ‡ßá‡¶≤‡ßá; ‡¶ó‡¶∞‡¶ø‡¶¨‡ßá‡¶∞ ‡¶¶‡¶≤‡ßá ‡¶ï‡ßá‡¶â ‡¶®‡ßá‡¶á‡•§",
    "‡¶¶‡ßá‡¶∂‡¶ü‡¶æ ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶ï‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶¶‡¶≤‡¶æ‡¶§‡ßá ‡¶π‡¶≤‡ßá ‡¶ï‡ßç‡¶∑‡¶Æ‡¶§‡¶æ, ‡¶ú‡¶Æ‡¶ø ‡¶Ü‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶ñ‡¶æ‡¶®‡¶æ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑‡ßá‡¶∞ ‡¶π‡¶æ‡¶§‡ßá ‡¶Ü‡¶∏‡¶§‡ßá ‡¶π‡¶¨‡ßá ‚Äî ‡¶®‡¶á‡¶≤‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶á ‡¶π‡¶¨‡ßá ‡¶®‡¶æ!"
  ];

  const RUBRIC = [
    { min: 81, label: "‡¶è‡¶ï‡¶¶‡¶Æ ‡¶≤‡¶æ‡¶≤ ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ!", comment: "‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞, ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞, ‡¶∂‡ßã‡¶∑‡¶£‚Äî ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡¶§‡ßá ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ö‡¶æ‡¶á‡•§ üî• ‡¶¨‡¶ø‡¶™‡ßç‡¶≤‡¶¨ ‡¶∏‡ßç‡¶™‡¶®‡ßç‡¶¶‡¶ø‡¶§ ‡¶¨‡ßÅ‡¶ï‡ßá‚Äî ‡¶Æ‡¶®‡ßá ‡¶π‡ßü ‡¶Ü‡¶Æ‡¶ø‡¶á ‡¶≤‡ßá‡¶®‡¶ø‡¶®!" },
    { min: 71, label: "‡¶ñ‡ßÅ‡¶¨ ‡¶¨‡¶æ‡¶Æ‡¶™‡¶®‡ßç‡¶•‡ßÄ", comment: "‡¶ó‡ßã‡ßú‡¶æ ‡¶¨‡¶¶‡¶≤‡ßá‡¶∞ ‡¶™‡¶ï‡ßç‡¶∑‡ßá; ‡¶∏‡¶Ç‡¶ó‡¶†‡¶® ‡¶ì ‡¶ï‡ßå‡¶∂‡¶≤ ‡¶ú‡ßã‡¶∞‡¶¶‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§" },
    { min: 51, label: "‡¶¨‡¶æ‡¶Æ‡¶™‡¶®‡ßç‡¶•‡ßÄ", comment: "‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡¶ø‡¶ï ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßá‡¶®; ‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡¶¨ ‡¶∞‡ßã‡¶°‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™ ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡•§" },
    { min: 26, label: "‡¶™‡ßç‡¶∞‡¶ó‡¶§‡¶ø‡¶∂‡ßÄ‡¶≤", comment: "‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡ßü ‡¶¶‡ßá‡¶ñ‡¶≤‡ßá ‡¶Ö‡¶∏‡ßç‡¶¨‡¶∏‡ßç‡¶§‡¶ø ‡¶π‡ßü; ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá‡¶á ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶ñ‡ßã‡¶Å‡¶ú‡ßá‡¶®‡•§" },
    { min: 0,  label: "‡¶Æ‡ßÇ‡¶≤‡¶ß‡¶æ‡¶∞‡¶æ‡¶∞", comment: "‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ö‡¶æ‡¶®, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶™‡ßÅ‡¶∞‡ßã ‡¶ñ‡ßá‡¶≤‡¶æ‡¶ü‡¶æ ‡¶®‡ßá‡ßú‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡¶®‡¶®‡•§" }
  ];

  // Elements
  const qindexEl = document.getElementById('qindex');
  const qtextEl  = document.getElementById('qtext');
  const optsEl   = document.getElementById('opts');
  const barEl    = document.getElementById('bar');
  const prevBtn  = document.getElementById('prev');
  const nextBtn  = document.getElementById('next');
  const resetBtn = document.getElementById('reset');

  const resultSec= document.getElementById('result');
  const scoreEl  = document.getElementById('score');
  const maxEl    = document.getElementById('max');
  const percentEl= document.getElementById('percent');
  const assessEl = document.getElementById('assessment');
  const commentEl= document.getElementById('comment');
  const percentBigEl = document.getElementById('percentBig');

  const btnPrint = document.getElementById('btnPrint');
  const btnShare = document.getElementById('btnShare');
  const btnCopy  = document.getElementById('btnCopy');
  const btnRestart= document.getElementById('btnRestart');

  // State
  let i = 0; // current index
  const answers = Array(QUESTIONS.length).fill(null); // store selected values

  function escapeHtml(s){ return String(s).replace(/[&<>"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c])); }

  function getMaxScore(){
    const maxPerQ = Math.max(...LIKERT_OPTIONS.map(o=>o.value));
    return QUESTIONS.length * maxPerQ;
  }

  function calculateScore(){
    const total = answers.reduce((s,v)=> s + (Number.isFinite(v)? v:0), 0);
    const max = getMaxScore();
    const pct = Math.round(total/max*100);
    const band = RUBRIC.find(r => pct >= r.min) || RUBRIC[RUBRIC.length-1];
    return {total,max,pct,band};
  }

  function showResult(){
    const {total,max,pct,band} = calculateScore();

    // keep internals updated (hidden small fields)
    scoreEl.textContent = total;
    maxEl.textContent = max;
    percentEl.textContent = pct;

    // BIG percent & visible texts
    percentBigEl.textContent = pct + '%';
    assessEl.textContent = band.label;
    commentEl.textContent = band.comment;

    document.querySelector('.quiz').style.display='none';
    resultSec.classList.add('show');

    // tiny celebratory effect
    if (pct >= 81) {
      for (let k=0;k<20;k++) {
        const s = document.createElement('div'); s.textContent='üî•';
        Object.assign(s.style,{position:'fixed',left:Math.random()*100+'vw',top:'-2vh',fontSize:(16+Math.random()*16)+'px',transition:'transform 1.2s ease, opacity 1.2s', zIndex:9999});
        document.body.appendChild(s);
        requestAnimationFrame(()=>{ s.style.transform=`translateY(${90+Math.random()*10}vh) rotate(${(Math.random()*360)|0}deg)`; s.style.opacity=0.1; });
        setTimeout(()=>s.remove(),1500);
      }
    }
  }

  function renderQuestion(){
    qindexEl.textContent = `‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ${i+1} / ${QUESTIONS.length}`;
    qtextEl.textContent = QUESTIONS[i];
    optsEl.innerHTML = LIKERT_OPTIONS.map((opt,idx)=>{
      const id = `q${i}_o${idx}`;
      const checked = answers[i]===opt.value ? 'checked' : '';
      return `<label class="opt" for="${id}"><input type="radio" id="${id}" name="q${i}" value="${opt.value}" ${checked}> <span>${escapeHtml(opt.label)}</span></label>`
    }).join('');

    // progress
    barEl.style.width = `${(i)/QUESTIONS.length*100}%`;

    prevBtn.disabled = i===0;
    nextBtn.textContent = (i===QUESTIONS.length-1) ? '‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®' : '‡¶™‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®';
  }

  // Event wires
  optsEl.addEventListener('change', (e)=>{
    if (e.target && e.target.name===`q${i}`) {
      answers[i] = Number(e.target.value);
    }
  });

  nextBtn.addEventListener('click', ()=>{
    if (!Number.isFinite(answers[i])) { alert('‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶™‡¶∂‡¶® ‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'); return; }
    if (i < QUESTIONS.length - 1) {
      i++;
      renderQuestion();
    } else {
      const missingIndex = answers.findIndex(v=>!Number.isFinite(v));
      if (missingIndex === -1) {
        showResult();
      } else {
        alert('‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡ßá‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡¶ø‡¶®‡•§');
        i = missingIndex; renderQuestion();
      }
    }
  });

  prevBtn.addEventListener('click', ()=>{
    i = Math.max(i-1, 0);
    renderQuestion();
  });

  resetBtn.addEventListener('click', ()=>{
    for (let k=0;k<answers.length;k++) answers[k]=null;
    i=0; renderQuestion();
  });

  btnRestart.addEventListener('click', ()=>{
    window.location.reload();
  });

  // Share buttons
  btnCopy.addEventListener('click', async ()=>{
    try { await navigator.clipboard.writeText(location.href); btnCopy.textContent='‚úÖ ‡¶ï‡¶™‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá'; setTimeout(()=>btnCopy.textContent='üìã ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø',1200);} catch(_){ alert('‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶ó‡ßá‡¶≤ ‡¶®‡¶æ'); }
  });

  btnShare.addEventListener('click', ()=>{
    const { band } = calculateScore();
    // Keeping share text "mystique" (no numeric %). Say the word and I‚Äôll add the percent here too.
    const text = `‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶Æ Meter ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‚Äî ${band.label}`;
    const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(location.href)}&quote=${encodeURIComponent(text)}`;
    window.open(shareUrl, '_blank');
  });

  // Print to PDF
  btnPrint.addEventListener('click', ()=>{ window.print(); });

  // Dev tests
  function scoreFromAnswers(arr){
    const maxPerQ = Math.max(...LIKERT_OPTIONS.map(o=>o.value));
    const total = arr.reduce((s,v)=> s + (Number.isFinite(v)? v:0), 0);
    const max = arr.length * maxPerQ;
    const pct = Math.round(total/max*100);
    const band = RUBRIC.find(r => pct >= r.min) || RUBRIC[RUBRIC.length-1];
    return {total,max,pct,band:band.label};
  }
  (function runTests(){
    try {
      const n = QUESTIONS.length;
      const all0 = Array(n).fill(0);
      const all4 = Array(n).fill(4);
      const alt = Array.from({length:n}, (_,k)=> k%2===0?4:0);
      const mid = Array(n).fill(3);

      console.assert(scoreFromAnswers(all0).pct === 0, 'All zeros should be 0%');
      console.assert(scoreFromAnswers(all0).band === '‡¶Æ‡ßÇ‡¶≤‡¶ß‡¶æ‡¶∞‡¶æ‡¶∞', '0% band should be ‡¶Æ‡ßÇ‡¶≤‡¶ß‡¶æ‡¶∞‡¶æ‡¶∞');
      const sAll4 = scoreFromAnswers(all4);
      console.assert(sAll4.pct === 100 && sAll4.total === 4*n, 'All fours should be 100% and total=4*n');
      console.assert(sAll4.band === '‡¶è‡¶ï‡¶¶‡¶Æ ‡¶≤‡¶æ‡¶≤ ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ!', '100% band should be ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶≤‡¶æ‡¶≤ ‡¶ö‡¶ø‡¶®‡ßç‡¶§‡¶æ!');
      console.assert(scoreFromAnswers(alt).pct === 50, 'Alternating 4/0 should be 50%');
      const sMid = scoreFromAnswers(mid);
      console.assert(sMid.pct === 75 && sMid.band === '‡¶ñ‡ßÅ‡¶¨ ‡¶¨‡¶æ‡¶Æ‡¶™‡¶®‡ßç‡¶•‡ßÄ', 'All 3s should be 75% and ‡¶ñ‡ßÅ‡¶¨ ‡¶¨‡¶æ‡¶Æ‡¶™‡¶®‡ßç‡¶•‡ßÄ');
      console.log('%cTests passed', 'color:green');
    } catch (e) { console.warn('Test failure:', e); }
  })();

  // Boot
  (function init(){
    document.getElementById('max').textContent = getMaxScore();
    renderQuestion();
  })();
  </script>
</body>
</html>
